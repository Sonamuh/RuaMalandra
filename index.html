<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rua Malandra</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<link rel="icon" href="https://ibb.co/CM1xMMX">
</head>
<body>



  <div class="page_header">
    <a href="index.html" class="col col-70" style="text-decoration: none; color: inherit;">
      <div style="display: flex; align-items: center;">
        <img src="img/malandra.png" alt="logo">
        Rua Malandra
      </div>
    </a>
    
    <a href="https://www.instagram.com/ruamalandra/" target="_blank" class="col col-10"><div>Insta</div></a>
    <a href="https://maps.app.goo.gl/eLKWyvbhPcFxz7up6" target="_blank" class="col col-10"><div>Rua</div></a>
    <a href="informacoes.html" class="col col-10"><div>+ Info</div></a>
  </div>

<div class="banner"></div>


<div class="banne_2">
  <img src="img/banner_2.png" alt="">
  <p>A Rua Malandra é um grupo de criação e investigação artística transdisciplinar. De Fevereiro a Junho de 2025, vai andar à solta pela Rua dos Manjovos, pela Galeria Barca d’Artes e Atelier 82, em Viana do Castelo, com residências artísticas, exposições, performances, oficinas, quizzes e mercado de arte. &#x2022; Aqui, a malandragem é séria: artistas locais, nas áreas da música, artes plásticas, dança, design e arquitetura, vão estar em criação artística pela rua e galeria, enquanto a comunidade é convidada a participar - porque uma rua não é só para atravessar, é também para se parar e ficar. &#x2022; Durante cinco meses, queremos que a rua deixe de ser apenas um caminho e se torne num lugar de encontro, partilha e transformação – porque não há nada mais malandro do que reinventar o que já existe. &#x2022; E já que malandra é a arte que se atreve a provocar, propomos uma experiência de carácter laboratorial, questionando formas de habitar e transformar a rua através de práticas artísticas e culturais. </p>
</div>

<a href="malandrissima.html"
   class="button b-1"
   style="background: linear-gradient(168deg, rgba(208, 85, 154, 1) 0%, rgba(255, 225, 72, 1) 50%, rgba(207, 84, 154, 1) 100%);">Malandríssima</a>
<a href="programa.html" class="button b-2">Programa</a>
<a href="residencias.html" class="button b-3">Residências</a>



<a href="malandrissima.html" style="text-decoration: none;">
  <div class="tempo" id="cor_1">
    <img src="img/bannermalandrissima.png" alt="">
  </div>
</a>
<a href="malandrissima.html" style="text-decoration: none;">
  <div class="tempo">
    <img src="img/obcs.png" alt="">
  </div>
</a>
<a href="malandrissima.html" style="text-decoration: none;">
  <div class="tempo">
    <img src="img/fest.png" alt="">
  </div>
</a>



















<script>
class Accordion {
  constructor(el) {
    // Store the <details> element
    this.el = el;
    // Store the <summary> element
    this.summary = el.querySelector('summary');
    // Store the <div class="content"> element
    this.content = el.querySelector('.content');

    // Store the animation object (so we can cancel it if needed)
    this.animation = null;
    // Store if the element is closing
    this.isClosing = false;
    // Store if the element is expanding
    this.isExpanding = false;
    // Detect user clicks on the summary element
    this.summary.addEventListener('click', (e) => this.onClick(e));
  }

  onClick(e) {
    // Stop default behaviour from the browser
    e.preventDefault();
    // Add an overflow on the <details> to avoid content overflowing
    this.el.style.overflow = 'hidden';
    // Check if the element is being closed or is already closed
    if (this.isClosing || !this.el.open) {
      this.open();
    // Check if the element is being openned or is already open
    } else if (this.isExpanding || this.el.open) {
      this.shrink();
    }
  }

  shrink() {
    // Set the element as "being closed"
    this.isClosing = true;
    
    // Store the current height of the element
    const startHeight = `${this.el.offsetHeight}px`;
    // Calculate the height of the summary
    const endHeight = `${this.summary.offsetHeight}px`;
    
    // If there is already an animation running
    if (this.animation) {
      // Cancel the current animation
      this.animation.cancel();
    }
    
    // Start a WAAPI animation
    this.animation = this.el.animate({
      // Set the keyframes from the startHeight to endHeight
      height: [startHeight, endHeight]
    }, {
      duration: 400,
      easing: 'ease-out'
    });
    
    // When the animation is complete, call onAnimationFinish()
    this.animation.onfinish = () => this.onAnimationFinish(false);
    // If the animation is cancelled, isClosing variable is set to false
    this.animation.oncancel = () => this.isClosing = false;
  }

  open() {
    // Apply a fixed height on the element
    this.el.style.height = `${this.el.offsetHeight}px`;
    // Force the [open] attribute on the details element
    this.el.open = true;
    // Wait for the next frame to call the expand function
    window.requestAnimationFrame(() => this.expand());
  }

  expand() {
    // Set the element as "being expanding"
    this.isExpanding = true;
    // Get the current fixed height of the element
    const startHeight = `${this.el.offsetHeight}px`;
    // Calculate the open height of the element (summary height + content height)
    const endHeight = `${this.summary.offsetHeight + this.content.offsetHeight}px`;
    
    // If there is already an animation running
    if (this.animation) {
      // Cancel the current animation
      this.animation.cancel();
    }
    
    // Start a WAAPI animation
    this.animation = this.el.animate({
      // Set the keyframes from the startHeight to endHeight
      height: [startHeight, endHeight]
    }, {
      duration: 400,
      easing: 'ease-out'
    });
    // When the animation is complete, call onAnimationFinish()
    this.animation.onfinish = () => this.onAnimationFinish(true);
    // If the animation is cancelled, isExpanding variable is set to false
    this.animation.oncancel = () => this.isExpanding = false;
  }

  onAnimationFinish(open) {
    // Set the open attribute based on the parameter
    this.el.open = open;
    // Clear the stored animation
    this.animation = null;
    // Reset isClosing & isExpanding
    this.isClosing = false;
    this.isExpanding = false;
    // Remove the overflow hidden and the fixed height
    this.el.style.height = this.el.style.overflow = '';
  }
}

document.querySelectorAll('details').forEach((el) => {
  new Accordion(el);
});
</script>




<div class="flier">
  <img src="img/bancopb.png" alt="banco_voador">
</div>
<div class="flier_tijela">
  <img src="img/pratopb.png" alt="banco_voador">
</div>

<div id="overlay"></div>

  <div id="newsletter-popup">
    <h2>Quer inscrever-se na nossa newsletter?</h2>
    <form id="newsletter-form">
      <input type="email" id="email" placeholder="Digite o seu e-mail" required>
      <button type="submit" class="subscribe-btn">Sim, inscreva-me</button>
    </form>
    <button class="dismiss-btn" id="dismiss-btn">Não, obrigado</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const popup = document.getElementById('newsletter-popup');
      const overlay = document.getElementById('overlay');
      const dismissBtn = document.getElementById('dismiss-btn');
      const form = document.getElementById('newsletter-form');

      // Show popup
      setTimeout(() => {
        if (!localStorage.getItem('popupDismissed')) {
          popup.style.display = 'block';
          overlay.style.display = 'block';
        }
      }, 1000);

      // Dismiss popup
      const dismissPopup = () => {
        popup.style.display = 'none';
        overlay.style.display = 'none';
        localStorage.setItem('popupDismissed', 'true');
      };

      dismissBtn.addEventListener('click', dismissPopup);

      // Handle form submission
      form.addEventListener('submit', (e) => {
        e.preventDefault();

        const email = document.getElementById('email').value;
        const emailData = { email };

        fetch('https://formsubmit.co/a.malandra.geral@gmail.com', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(emailData),
        })
          .then((response) => {
            if (response.ok) {
              alert('Obrigado por se inscrever na nossa newsletter!');
              dismissPopup();
            } else {
              alert('Ocorreu um erro. Por favor, tente novamente.');
            }
          })
          .catch(() => {
            alert('Ocorreu um erro. Por favor, tente novamente.');
          });
      });
    });
  </script>
</body>
</html>
